# Проект NewLang
NewLang - это язык программирования высокого уровня в котором можно сочетать стандартные алгоритмические конструкции с методами машинного обучения и поддержкой тензорных вычислений «из коробки» (в настоящий момент для тензорных вычислений используется библиотека [libtorch](https://pytorch.org/)).

Основной особенностью языка является легкий, логичный и не противоречивый синтаксис, который основан не на использовании зарезервированных ключевых слов, а на строгой системе грамматических правил с использованием знаков препинания (в список которых входят и операторы языка).

## Основные свойства и особенности языка:
- Возможность работы как в режиме интерпретатора, так и компилятора
- Статическая  и динамическая типизация с возможностью указания типов в явном виде. Статическая типизация является условно строгой (автоматическое приведение типов отсутствует, но допускается автоматическое преобразование между некоторыми типами, например, целое число может быть автоматически преобразовано в вещественное, но не наоборот)
- Автоматическое управление памятью
- ООП в виде явного наследования классов и «утиная» типизация
- На уровне синтаксиса поддержка нескольких типов функций (обычные и чистые функции без побочных эффектов)
- Возможны вставки кода на языке реализации (С/С++)
- Простая интеграция с уже существующими программными библиотеками (в том числе импорт нативных переменных и функций из С/С++.)

## Особенности *NewLang*
У всех современных языков программирования происходит постоянно усложнение синтаксиса по мере выхода их новых версий. Это является платой за их постоянное развитие и воспринимается пользователями как естественное явление. 

Но это же является и серьезным недостатком, т.к. по мере своего развития и выхода новых стандартов языков и расширения их возможностей за счет новых ключевых слов и синтаксических конструкций, неизбежно повышается и порог входа для новых пользователей. Еще одним следствием это становится постоянное повышение сложности разработки и трудоемкость поддержки уже созданных программных продуктов.

У *NewLang* сложность языковых конструкций ограничивается за счет разделения синтаксиса языка на две части. Основной, простой и логичный синтаксис, которого достаточно для написания программ в объектно-ориентированном (императивном) и декларативном стилях и Расширенный синтаксис — когда основного синтаксиса становится недостаточно, например для использования отдельных языковых конструкций языка реализации. 

### Основной синтаксис
Основной синтаксис построен исключительно на грамматических правилах и не содержит каких либо зарезервированных ключевых слов, а все буквенно-символьные последовательности рассматриваются как идентификаторы в которых можно использовать любые не-ASCII символы.

Названия встроенных типов или имена служебных функции системной библиотеки определяются только конкретной реализацией языка, не являются зарезервированными ключевыми словами и при необходимости могут быть переопределены, например при создании собственного, предметно-ориентированные диалекты (DSL - domain-specific language), если в этом возникнет необходимость. Но сама структура программы и логика выполняемого алгоритма все равно останутся понятны всем, кто знаком правилами основного синтаксиса NewLang.

### Расширенный синтаксис
Расширенный синтаксис — это возможность внедрения в текст программы *NewLang* вставки исходного кода непосредственно на языке реализации, что позволяет использовать практически любые возможности современных средств разработки. Обработка расширенного синтаксиса происходит на этапе компиляции приложения, т. к. в настоящий момент языком реализации является С++.

Взаимодействие между основным и расширенным синтаксисами происходит за счет совместного использования идентификаторов, которое полностью прозрачно для пользователя и подчиняется единым грамматическим правилам.

#### Пример скрипта Hello world! на NewLang
    #!./nlc --eval 
    # Определение функции hello с параметром по умолчанию
    hello(str) := { 
      printf := @import('printf(format:Format, ...):Int');  # Импорт стандартной C функции
      printf('%s', $str);  # Вызов стандартной C функции аргументами
    };
    hello('Привет, мир!\n'); # Вызвать ранее определенную функцию с аргументом`

Вывод:
`>>Привет, мир!`



    
    
    Тут будет ссылка на подробное описание синтаксиса
    
    
    



### Сборка из исходников (пока только под Linux)
#### Подготовка репозитория
- Скачать исходники
- Скачать и развернуть архив [libtorch](https://pytorch.org/) в каталоге *contrib* (PyTorch Build: Stable (1.10.*) -> Your OS: Linux -> Package: LibTorch -> Language: C++ / Java -> Compute Platform: CPU -> Download here (cxx11 ABI):
[libtorch-cxx11-abi-shared-with-deps-1.10.2+cpu.zip](https://download.pytorch.org/libtorch/cpu/libtorch-cxx11-abi-shared-with-deps-1.10.2%2Bcpu.zip))
- Активировать и скачать субмодули (`git submodule init && git submodule update`)
- В каталоге *contrib* запустить файл `build.sh` для сборки библиотеки libffi

### Собрать
- Юнит-Тесты: в каталоге *core* выполнить команду **`make CONF=UnitTest`**
- интерпретатор nlc: в каталоге *core* выполнить команду **`make CONF=Debug`**
